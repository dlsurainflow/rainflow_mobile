{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _readOnlyError from \"@babel/runtime/helpers/readOnlyError\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Github\\\\rainflow_mobile\\\\src\\\\Screens\\\\Reporting.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport { ColorDotsLoader } from 'react-native-indicator';\n\nvar Reporting = function Reporting(props) {\n  var _useState = useState(3),\n      _useState2 = _slicedToArray(_useState, 2),\n      rainIntensityVal = _useState2[0],\n      setRainIntensityVal = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      filename = _useState4[0],\n      setFileName = _useState4[1];\n\n  var _useState5 = useState(3),\n      _useState6 = _slicedToArray(_useState5, 2),\n      floodLevelVal = _useState6[0],\n      setFloodLevelVal = _useState6[1];\n\n  var _useState7 = useState(\"Analyzing . . .\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      dispLat = _useState8[0],\n      setDispLat = _useState8[1];\n\n  var _useState9 = useState(\"Analyzing . . .\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      dispLong = _useState10[0],\n      setDispLong = _useState10[1];\n\n  var _useState11 = useState(\"Analyzing . . .\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      accR = _useState12[0],\n      setAccR = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      showLoading = _useState14[0],\n      setShowLoading = _useState14[1];\n\n  navigator.geolocation.getCurrentPosition(success, error, options);\n  var options = {\n    enableHighAccuracy: true,\n    timeout: 5000,\n    maximumAge: 0\n  };\n\n  function success(pos) {\n    var crd = pos.coords;\n    setDispLat(crd.latitude);\n    setDispLong(crd.longitude);\n    setAccR(crd.accuracy);\n  }\n\n  function error(err) {\n    console.warn(\"ERROR(\" + err.code + \"): \" + err.message);\n  }\n\n  var introAlert = function introAlert() {\n    return Alert.alert(\"You are now in Reporting!\", \"Your Location is: Latitude : \" + dispLat + \", Longitude: \" + dispLong, [{\n      text: \"Okay\",\n      onPress: function onPress() {\n        return console.log(\"OK Pressed\");\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var updateMyLoc = function updateMyLoc() {\n    navigator.geolocation.getCurrentPosition(success, error, options);\n  };\n\n  changeOne = function changeOne() {\n    setRainIntensityVal(0);\n    console.log(\"Rain Intensity Set at: \" + rainIntensityVal);\n  };\n\n  changeTwo = function changeTwo() {\n    setRainIntensityVal(1.25);\n    console.log(\"Rain Intensity Set at: \" + rainIntensityVal);\n  };\n\n  changeThree = function changeThree() {\n    setRainIntensityVal(2.5);\n    console.log(\"Rain Intensity Set at: \" + rainIntensityVal);\n  };\n\n  changeFour = function changeFour() {\n    setRainIntensityVal(7.5);\n    console.log(\"Rain Intensity Set at: \" + rainIntensityVal);\n  };\n\n  changeFive = function changeFive() {\n    setRainIntensityVal(10);\n    console.log(\"Rain Intensity Set at: \" + rainIntensityVal);\n  };\n\n  changeOneF = function changeOneF() {\n    setFloodLevelVal(0);\n    console.log(\"Flood Level Set at: \" + floodLevelVal);\n  };\n\n  changeTwoF = function changeTwoF() {\n    setFloodLevelVal(25);\n    console.log(\"Flood Level Set at: \" + floodLevelVal);\n  };\n\n  changeThreeF = function changeThreeF() {\n    setFloodLevelVal(50);\n    console.log(\"Flood Level Set at: \" + floodLevelVal);\n  };\n\n  changeFourF = function changeFourF() {\n    setFloodLevelVal(75);\n    console.log(\"Flood Level Set at: \" + floodLevelVal);\n  };\n\n  changeFiveF = function changeFiveF() {\n    setFloodLevelVal(100);\n    console.log(\"Flood Level Set at: \" + floodLevelVal);\n  };\n\n  resetValue = function resetValue() {\n    floodLevelVal = (_readOnlyError(\"floodLevelVal\"), -1);\n    rainIntensityVal = (_readOnlyError(\"rainIntensityVal\"), -1);\n    console.log(\"Rain Intensity Set at: \" + rainIntensityVal);\n    console.log(\"Flood Level Set at: \" + floodLevelVal);\n  };\n\n  var LRainAlert = function LRainAlert() {\n    return Alert.alert(\"LIGHT rain intensity selected!\", \"Light rain: Scattered drops that do not completely wet an exposed surface regardless of duration.\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"Report\",\n      onPress: function onPress() {\n        return changeTwo();\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var MRainAlert = function MRainAlert() {\n    return Alert.alert(\"MEDIUM rain intensity selected!\", \"Medium rain: The rate of fall is from trace to 2.5 mm per hour. Individual drops easily identified and puddles(small muddy pools) form slowly. Small streams may flow in gutters.\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"Report\",\n      onPress: function onPress() {\n        return changeThree();\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var HRainAlert = function HRainAlert() {\n    return Alert.alert(\"HEAVY rain intensity selected!\", \"Heavy rain: The rate of fall is between 2.5 mm to 7.5 mm per hour. Puddles rapidly forming and down pipes flowing freely.\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"Report\",\n      onPress: function onPress() {\n        return changeFour();\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var EHRainAlert = function EHRainAlert() {\n    return Alert.alert(\"EXTREMELY HEAVY rain intensity selected!\", \"Extremely heavy rain: The rate of fall is greater than 7.5 mm per hour. The sky is overcast, there is a continuous precipitation. Falls in sheets, misty spray over hard surfaces. May cause roaring noise on roofs.\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"Report\",\n      onPress: function onPress() {\n        return changeFive();\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var ADeepAlert = function ADeepAlert() {\n    return Alert.alert(\"ANKLE DEEP intensity selected!\", \"Ankle deep: Flood is around 0.25 meters high\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"Report\",\n      onPress: function onPress() {\n        return changeTwoF();\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var KDeepAlert = function KDeepAlert() {\n    return Alert.alert(\"KNEE DEEP flood level is selected!\", \"Knee Deep: 7.5 - 15 mm of rain observed in the next two hours. Flood is around 0.5 meters high. Response: Monitor weather condition.\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"Report\",\n      onPress: function onPress() {\n        return changeThreeF();\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var WDeepAlert = function WDeepAlert() {\n    return Alert.alert(\"WAIST DEEP flood level is selected!\", \"Waist deep: 15 - 30 mm of rain observed in an hour and expected to continue in the next two hours. Flood is threatening, around 1 meter high Response: Alert for possible evacuation.\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"Report\",\n      onPress: function onPress() {\n        return changeFourF();\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var AWDeepAlert = function AWDeepAlert() {\n    return Alert.alert(\"ABOVE WAIST DEEP flood level is selected!\", \"Above waist: More than 30 mm of rain observed in an hour and expected to continue in the next two hours. Serious flooding expected in low lying areas. Response: evacuation. \", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"Report\",\n      onPress: function onPress() {\n        return changeFiveF();\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var alertUserReport = function alertUserReport() {\n    Alert.alert(\"Report Now\", \"You are about to report this information \\nLatitude: \" + dispLat + \"\\nLongitude: \" + dispLong + \"\\nRain Intensity: \" + rainIntensityVal + \"\\nFlood Level: \" + floodLevelVal, [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"Report\",\n      onPress: function onPress() {\n        return isUserLogged();\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var alertUserLogin = function alertUserLogin() {\n    Alert.alert(\"You cannot report without an account!\", \"Tap Login to continue. Tap Cancel if you want to cancel reporting.\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"Login\",\n      onPress: function onPress() {\n        props.navigation.navigate(\"Login\");\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var isUserLogged = function isUserLogged() {\n    var token;\n    return _regeneratorRuntime.async(function isUserLogged$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n\n          case 2:\n            token = _context.sent;\n\n            if (token == null) {\n              alertUserLogin();\n            } else {\n              reportUserReport();\n            }\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var reportUserReport = function reportUserReport() {\n    var token, formdata, match, type1, fileType;\n    return _regeneratorRuntime.async(function reportUserReport$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            setShowLoading(true);\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n\n          case 3:\n            token = _context2.sent;\n            formdata = new FormData();\n            formdata.append(\"latitude\", dispLat);\n            formdata.append(\"longitude\", dispLong);\n            formdata.append(\"rainfall_rate\", rainIntensityVal);\n            formdata.append(\"flood_depth\", floodLevelVal);\n\n            if (image !== null) {\n              match = /\\.(\\w+)$/.exec(filename);\n              type1 = match ? \"image/\" + match[1] : \"image\";\n              fileType = image.substring(image.lastIndexOf(\".\") + 1);\n              console.log(\"Filename: \" + filename);\n              console.log(\"Filetype: \" + fileType);\n              formdata.append(\"image\", {\n                uri: image,\n                name: filename,\n                type: \"image/\" + fileType\n              });\n            }\n\n            console.log(\"Formdata: \" + formdata);\n            fetch(\"https://rainflow.live/api/report/submit\", {\n              method: \"POST\",\n              headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"multipart/form-data\",\n                Authorization: \"Bearer \" + token\n              },\n              body: formdata\n            }).then(function (response) {\n              if (!response.ok) {\n                throw new Error(response.status);\n              }\n\n              console.log(response.json().then(function (data) {\n                return console.log(data);\n              }));\n            }).catch(function (error) {\n              console.log(\"ERROR: \" + error);\n            });\n            setTimeout(function () {\n              setShowLoading(false);\n              setImage(null);\n              alert(\"Report submitted! Thank you\");\n            }, 2000);\n            console.log(\"Fetch Done\");\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var checkIfNoReport = function checkIfNoReport() {\n    if (rainIntensityVal == 3 && floodLevelVal == 3) {\n      alert(\"Missing rain intensity and flood level data to be reported\");\n    } else if (rainIntensityVal == 3) {\n      alert(\"Missing rain intensity data to be reported\");\n    } else if (floodLevelVal == 3) {\n      alert(\"Missing flood level data to be reported\");\n    } else {\n      alertUserReport();\n    }\n  };\n\n  var _useState15 = useState(null),\n      _useState16 = _slicedToArray(_useState15, 2),\n      image = _useState16[0],\n      setImage = _useState16[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var _await$ImagePicker$re, status;\n\n      return _regeneratorRuntime.async(function _callee$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(Platform.OS !== \"web\")) {\n                _context3.next = 6;\n                break;\n              }\n\n              _context3.next = 3;\n              return _regeneratorRuntime.awrap(ImagePicker.requestCameraPermissionsAsync());\n\n            case 3:\n              _await$ImagePicker$re = _context3.sent;\n              status = _await$ImagePicker$re.status;\n\n              if (status !== \"granted\") {\n                alert(\"Sorry, we need camera roll permissions to make this work!\");\n              }\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  var pickImage = function pickImage() {\n    var result;\n    return _regeneratorRuntime.async(function pickImage$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            console.log(\"At Pick Image\");\n            _context4.next = 3;\n            return _regeneratorRuntime.awrap(ImagePicker.launchCameraAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.All,\n              allowsEditing: false,\n              quality: 0.1\n            }));\n\n          case 3:\n            result = _context4.sent;\n            console.log(result);\n\n            if (!result.cancelled) {\n              setImage(result.uri);\n              setFileName(result.uri.split(\"/\").pop());\n            }\n\n          case 6:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(View, {\n    style: styles.backgroundContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.contentContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: {\n      textAlign: \"left\",\n      color: \"#fff\",\n      fontWeight: \"bold\",\n      paddingBottom: 0,\n      fontSize: 40\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 9\n    }\n  }, \"REPORTING\"), React.createElement(Text, {\n    style: {\n      textAlign: \"center\",\n      color: \"#fff\",\n      fontWeight: \"bold\",\n      paddingBottom: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 9\n    }\n  }, \"(\", dispLat, \", \", dispLong, \")\", \"\\n\", \"Image to upload:\"), React.createElement(Image, {\n    source: {\n      uri: image\n    },\n    style: {\n      width: 100,\n      height: 100,\n      paddingBottom: 0\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 9\n    }\n  }), showLoading ? React.createElement(View, {\n    style: styles.loadingContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 13\n    }\n  }, React.createElement(ColorDotsLoader, {\n    size: 30,\n    color1: \"#4FC69A\",\n    color2: \"#1EA78C\",\n    color3: \"#0E956A\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: {\n      fontWeight: \"bold\",\n      color: \"#FFFF\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 13\n    }\n  }, \"Loading\")) : null, React.createElement(Text, {\n    style: {\n      textAlign: \"left\",\n      color: \"#fff\",\n      fontWeight: \"bold\",\n      fontSize: 30\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 9\n    }\n  }, \"RAIN INTENSITY\"), React.createElement(View, {\n    style: styles.overView,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.choiceContainer,\n    onPress: function onPress() {\n      return changeOne();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"green\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 13\n    }\n  }, \"No Rain\")), React.createElement(View, {\n    style: styles.pads,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 11\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.choice2Container,\n    onPress: function onPress() {\n      return LRainAlert();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"yellowgreen\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 13\n    }\n  }, \"Light Rain\")), React.createElement(View, {\n    style: styles.pads,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 11\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.choice3Container,\n    onPress: function onPress() {\n      return MRainAlert();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"yellow\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 13\n    }\n  }, \"Medium Rain\")), React.createElement(View, {\n    style: styles.pads,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 11\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.choice4Container,\n    onPress: function onPress() {\n      return HRainAlert();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"orange\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 13\n    }\n  }, \"Heavy Rain\")), React.createElement(View, {\n    style: styles.pads,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 11\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.choice5Container,\n    onPress: function onPress() {\n      return EHRainAlert();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"red\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 13\n    }\n  }, \"Extremely Heavy Rain\"))), React.createElement(Text, {\n    style: {\n      textAlign: \"left\",\n      color: \"#fff\",\n      fontWeight: \"bold\",\n      fontSize: 30\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 9\n    }\n  }, \"FLOOD LEVEL\"), React.createElement(View, {\n    style: styles.overView,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.choiceContainer,\n    onPress: function onPress() {\n      return changeOneF();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"green\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 13\n    }\n  }, \"No Flood\")), React.createElement(View, {\n    style: styles.pads,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 520,\n      columnNumber: 11\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.choice2Container,\n    onPress: function onPress() {\n      return ADeepAlert();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"yellowgreen\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 13\n    }\n  }, \"Ankle Deep\")), React.createElement(View, {\n    style: styles.pads,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 11\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.choice3Container,\n    onPress: function onPress() {\n      return KDeepAlert();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"yellow\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 13\n    }\n  }, \"Knee Deep\")), React.createElement(View, {\n    style: styles.pads,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 11\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.choice4Container,\n    onPress: function onPress() {\n      return WDeepAlert();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"orange\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 13\n    }\n  }, \"Waist Deep\")), React.createElement(View, {\n    style: styles.pads,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 11\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.choice5Container,\n    onPress: function onPress() {\n      return AWDeepAlert();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 555,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"red\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 13\n    }\n  }, \"Above Waist\"))), React.createElement(View, {\n    style: styles.buttonContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 565,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.button,\n    onPress: function onPress() {\n      return pickImage();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 566,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      textAlign: \"center\",\n      color: \"#fff\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 13\n    }\n  }, \"Take a photo\"))), React.createElement(View, {\n    style: styles.buttonContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.button,\n    onPress: function onPress() {\n      return updateMyLoc();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      textAlign: \"center\",\n      color: \"#fff\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 13\n    }\n  }, \"Update My Location\"))), React.createElement(View, {\n    style: styles.buttonCancelContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 583,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.buttonCancel,\n    onPress: function onPress() {\n      return checkIfNoReport();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 584,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      textAlign: \"center\",\n      color: \"#fff\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 588,\n      columnNumber: 13\n    }\n  }, \"R E P O R T\")))));\n};\n\nvar styles = StyleSheet.create({\n  backgroundContainer: {\n    flex: 1,\n    width: \"100%\",\n    backgroundColor: \"#434343\",\n    justifyContent: \"center\",\n    paddingTop: Platform.OS === \"android\" ? 25 : 0\n  },\n  loadingContainer: {\n    flex: 1,\n    height: \"100%\",\n    width: \"100%\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    position: \"absolute\",\n    paddingTop: 170\n  },\n  contentContainer: {\n    flex: 1,\n    width: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"#434343\",\n    paddingHorizontal: 30,\n    paddingTop: Platform.OS === \"android\" ? 25 : 0\n  },\n  reportcontentContainer: {\n    flex: 1,\n    width: \"100%\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"#434343\",\n    paddingHorizontal: 30,\n    paddingTop: Platform.OS === \"android\" ? 25 : 0\n  },\n  pads: {\n    paddingTop: 2,\n    paddingBottom: 2,\n    paddingLeft: 3,\n    paddingRight: 3\n  },\n  choiceContainer: {\n    width: \"21%\",\n    height: 50,\n    textAlign: \"center\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 10,\n    backgroundColor: \"#434343\",\n    borderWidth: 2,\n    borderColor: \"green\"\n  },\n  choice2Container: {\n    width: \"21%\",\n    height: 50,\n    textAlign: \"center\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 10,\n    backgroundColor: \"#434343\",\n    borderWidth: 2,\n    borderColor: \"yellowgreen\",\n    paddingLeft: 3,\n    paddingRight: 3\n  },\n  choice3Container: {\n    width: \"21%\",\n    height: 50,\n    textAlign: \"center\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 10,\n    backgroundColor: \"#434343\",\n    borderWidth: 2,\n    borderColor: \"yellow\",\n    paddingLeft: 3\n  },\n  choice4Container: {\n    width: \"21%\",\n    height: 50,\n    textAlign: \"center\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 10,\n    backgroundColor: \"#434343\",\n    borderWidth: 2,\n    borderColor: \"orange\",\n    paddingLeft: 3\n  },\n  choice5Container: {\n    width: \"21%\",\n    height: 50,\n    textAlign: \"center\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 10,\n    backgroundColor: \"#434343\",\n    borderWidth: 2,\n    borderColor: \"red\",\n    paddingLeft: 3\n  },\n  rbuttonContainer: {\n    flex: 1,\n    width: \"100%\",\n    justifyContent: \"flex-start\",\n    alignItems: \"flex-start\"\n  },\n  logoContainer: {\n    flex: 1.5,\n    width: \"100%\",\n    justifyContent: \"flex-start\",\n    alignItems: \"center\",\n    backgroundColor: \"#434343\",\n    paddingBottom: 0\n  },\n  overView: {\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"row\",\n    paddingTop: 10,\n    paddingBottom: 10\n  },\n  button: {\n    width: \"100%\",\n    height: 35,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 30,\n    backgroundColor: \"#1EA78C\"\n  },\n  buttonCancel: {\n    width: \"100%\",\n    height: 35,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 30,\n    backgroundColor: \"#434343\",\n    borderWidth: 2,\n    borderColor: \"#1EA78C\"\n  },\n  buttonContainer: {\n    width: \"100%\",\n    justifyContent: \"flex-start\",\n    alignItems: \"flex-end\",\n    backgroundColor: \"#434343\",\n    paddingHorizontal: 5,\n    paddingTop: 0,\n    paddingBottom: 20\n  },\n  buttonCancelContainer: {\n    width: \"100%\",\n    justifyContent: \"flex-start\",\n    alignItems: \"flex-end\",\n    backgroundColor: \"#434343\",\n    paddingHorizontal: 5,\n    paddingTop: 0,\n    paddingBottom: 20\n  }\n});\nexport default Reporting;","map":{"version":3,"sources":["D:/Github/rainflow_mobile/src/Screens/Reporting.js"],"names":["React","useState","useEffect","AsyncStorage","ImagePicker","ColorDotsLoader","Reporting","props","rainIntensityVal","setRainIntensityVal","filename","setFileName","floodLevelVal","setFloodLevelVal","dispLat","setDispLat","dispLong","setDispLong","accR","setAccR","showLoading","setShowLoading","navigator","geolocation","getCurrentPosition","success","error","options","enableHighAccuracy","timeout","maximumAge","pos","crd","coords","latitude","longitude","accuracy","err","console","warn","code","message","introAlert","Alert","alert","text","onPress","log","cancelable","updateMyLoc","changeOne","changeTwo","changeThree","changeFour","changeFive","changeOneF","changeTwoF","changeThreeF","changeFourF","changeFiveF","resetValue","LRainAlert","style","MRainAlert","HRainAlert","EHRainAlert","ADeepAlert","KDeepAlert","WDeepAlert","AWDeepAlert","alertUserReport","isUserLogged","alertUserLogin","navigation","navigate","getItem","token","reportUserReport","formdata","FormData","append","image","match","exec","type1","fileType","substring","lastIndexOf","uri","name","type","fetch","method","headers","Accept","Authorization","body","then","response","ok","Error","status","json","data","catch","setTimeout","setImage","checkIfNoReport","Platform","OS","requestCameraPermissionsAsync","pickImage","launchCameraAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","quality","result","cancelled","split","pop","styles","backgroundContainer","contentContainer","textAlign","color","fontWeight","paddingBottom","fontSize","width","height","loadingContainer","overView","choiceContainer","pads","choice2Container","choice3Container","choice4Container","choice5Container","buttonContainer","button","buttonCancelContainer","buttonCancel","StyleSheet","create","flex","backgroundColor","justifyContent","paddingTop","flexDirection","alignItems","position","paddingHorizontal","reportcontentContainer","paddingLeft","paddingRight","borderRadius","borderWidth","borderColor","rbuttonContainer","logoContainer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  View,\r\n  Text,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  Alert,\r\n  Image,\r\n  AsyncStorage,\r\n} from \"react-native\";\r\nimport * as ImagePicker from \"expo-image-picker\";\r\nimport { ColorDotsLoader } from 'react-native-indicator';\r\n\r\nconst Reporting = (props) => {\r\n  const [rainIntensityVal, setRainIntensityVal] = useState(3);\r\n  const [filename, setFileName] = useState(null);\r\n  const [floodLevelVal, setFloodLevelVal] = useState(3);\r\n  const [dispLat, setDispLat] = useState(\"Analyzing . . .\");\r\n  const [dispLong, setDispLong] = useState(\"Analyzing . . .\");\r\n  const [accR, setAccR] = useState(\"Analyzing . . .\");\r\n  const [showLoading, setShowLoading] = useState(false)\r\n\r\n  navigator.geolocation.getCurrentPosition(success, error, options);\r\n\r\n  var options = {\r\n    enableHighAccuracy: true,\r\n    timeout: 5000,\r\n    maximumAge: 0,\r\n  };\r\n\r\n  function success(pos) {\r\n    var crd = pos.coords;\r\n    //console.log('Your current position is:');     //console.log(`Latitude : ${crd.latitude}`);     //console.log(`Longitude: ${crd.longitude}`);     //console.log(`More or less ${crd.accuracy} meters.`);\r\n    setDispLat(crd.latitude);\r\n    setDispLong(crd.longitude);\r\n    setAccR(crd.accuracy);\r\n  }\r\n\r\n  function error(err) {\r\n    console.warn(`ERROR(${err.code}): ${err.message}`);\r\n  }\r\n\r\n  const introAlert = () =>\r\n    Alert.alert(\r\n      \"You are now in Reporting!\",\r\n      \"Your Location is: Latitude : \" + dispLat + \", Longitude: \" + dispLong,\r\n      [{ text: \"Okay\", onPress: () => console.log(\"OK Pressed\") }],\r\n      { cancelable: false }\r\n    );\r\n\r\n  const updateMyLoc = () => {\r\n    navigator.geolocation.getCurrentPosition(success, error, options);\r\n  };\r\n\r\n  changeOne = () => {\r\n    setRainIntensityVal(0);\r\n    console.log(\"Rain Intensity Set at: \" + rainIntensityVal);\r\n  };\r\n\r\n  changeTwo = () => {\r\n    setRainIntensityVal(1.25);\r\n    console.log(\"Rain Intensity Set at: \" + rainIntensityVal);\r\n  };\r\n\r\n  changeThree = () => {\r\n    setRainIntensityVal(2.5);\r\n    console.log(\"Rain Intensity Set at: \" + rainIntensityVal);\r\n  };\r\n\r\n  changeFour = () => {\r\n    setRainIntensityVal(7.5);\r\n    console.log(\"Rain Intensity Set at: \" + rainIntensityVal);\r\n  };\r\n\r\n  changeFive = () => {\r\n    setRainIntensityVal(10);\r\n    console.log(\"Rain Intensity Set at: \" + rainIntensityVal);\r\n  };\r\n\r\n  changeOneF = () => {\r\n    setFloodLevelVal(0);\r\n    console.log(\"Flood Level Set at: \" + floodLevelVal);\r\n  };\r\n\r\n  changeTwoF = () => {\r\n    setFloodLevelVal(25);\r\n    console.log(\"Flood Level Set at: \" + floodLevelVal);\r\n  };\r\n\r\n  changeThreeF = () => {\r\n    setFloodLevelVal(50);\r\n    console.log(\"Flood Level Set at: \" + floodLevelVal);\r\n  };\r\n\r\n  changeFourF = () => {\r\n    setFloodLevelVal(75);\r\n    console.log(\"Flood Level Set at: \" + floodLevelVal);\r\n  };\r\n\r\n  changeFiveF = () => {\r\n    setFloodLevelVal(100);\r\n    console.log(\"Flood Level Set at: \" + floodLevelVal);\r\n  };\r\n\r\n  //Reset\r\n  resetValue = () => {\r\n    floodLevelVal = -1;\r\n    rainIntensityVal = -1;\r\n    console.log(\"Rain Intensity Set at: \" + rainIntensityVal);\r\n    console.log(\"Flood Level Set at: \" + floodLevelVal);\r\n  };\r\n\r\n  const LRainAlert = () =>\r\n    Alert.alert(\r\n      \"LIGHT rain intensity selected!\",\r\n      \"Light rain: Scattered drops that do not completely wet an exposed surface regardless of duration.\",\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\",\r\n        },\r\n        { text: \"Report\", onPress: () => changeTwo() },\r\n      ],\r\n      { cancelable: false }\r\n    );\r\n\r\n  const MRainAlert = () =>\r\n    Alert.alert(\r\n      \"MEDIUM rain intensity selected!\",\r\n      \"Medium rain: The rate of fall is from trace to 2.5 mm per hour. Individual drops easily identified and puddles(small muddy pools) form slowly. Small streams may flow in gutters.\",\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\",\r\n        },\r\n        { text: \"Report\", onPress: () => changeThree() },\r\n      ],\r\n      { cancelable: false }\r\n    );\r\n\r\n  const HRainAlert = () =>\r\n    Alert.alert(\r\n      \"HEAVY rain intensity selected!\",\r\n      \"Heavy rain: The rate of fall is between 2.5 mm to 7.5 mm per hour. Puddles rapidly forming and down pipes flowing freely.\",\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\",\r\n        },\r\n        { text: \"Report\", onPress: () => changeFour() },\r\n      ],\r\n      { cancelable: false }\r\n    );\r\n\r\n  const EHRainAlert = () =>\r\n    Alert.alert(\r\n      \"EXTREMELY HEAVY rain intensity selected!\",\r\n      \"Extremely heavy rain: The rate of fall is greater than 7.5 mm per hour. The sky is overcast, there is a continuous precipitation. Falls in sheets, misty spray over hard surfaces. May cause roaring noise on roofs.\",\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\",\r\n        },\r\n        { text: \"Report\", onPress: () => changeFive() },\r\n      ],\r\n      { cancelable: false }\r\n    );\r\n\r\n  const ADeepAlert = () =>\r\n    Alert.alert(\r\n      \"ANKLE DEEP intensity selected!\",\r\n      \"Ankle deep: Flood is around 0.25 meters high\",\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\",\r\n        },\r\n        { text: \"Report\", onPress: () => changeTwoF() },\r\n      ],\r\n      { cancelable: false }\r\n    );\r\n\r\n  const KDeepAlert = () =>\r\n    Alert.alert(\r\n      \"KNEE DEEP flood level is selected!\",\r\n      \"Knee Deep: 7.5 - 15 mm of rain observed in the next two hours. Flood is around 0.5 meters high. Response: Monitor weather condition.\",\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\",\r\n        },\r\n        { text: \"Report\", onPress: () => changeThreeF() },\r\n      ],\r\n      { cancelable: false }\r\n    );\r\n\r\n  const WDeepAlert = () =>\r\n    Alert.alert(\r\n      \"WAIST DEEP flood level is selected!\",\r\n      \"Waist deep: 15 - 30 mm of rain observed in an hour and expected to continue in the next two hours. Flood is threatening, around 1 meter high Response: Alert for possible evacuation.\",\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\",\r\n        },\r\n        { text: \"Report\", onPress: () => changeFourF() },\r\n      ],\r\n      { cancelable: false }\r\n    );\r\n\r\n  const AWDeepAlert = () =>\r\n    Alert.alert(\r\n      \"ABOVE WAIST DEEP flood level is selected!\",\r\n      \"Above waist: More than 30 mm of rain observed in an hour and expected to continue in the next two hours. Serious flooding expected in low lying areas. Response: evacuation. \",\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\",\r\n        },\r\n        { text: \"Report\", onPress: () => changeFiveF() },\r\n      ],\r\n      { cancelable: false }\r\n    );\r\n\r\n  const alertUserReport = () => {\r\n    Alert.alert(\r\n      \"Report Now\",\r\n      \"You are about to report this information \\nLatitude: \" +\r\n        dispLat +\r\n        \"\\nLongitude: \" +\r\n        dispLong +\r\n        \"\\nRain Intensity: \" +\r\n        rainIntensityVal +\r\n        \"\\nFlood Level: \" +\r\n        floodLevelVal,\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\",\r\n        },\r\n        {\r\n          text: \"Report\",\r\n          onPress: () => isUserLogged(),\r\n        },\r\n      ],\r\n      { cancelable: false }\r\n    );\r\n  };\r\n\r\n  const alertUserLogin = () => {\r\n    Alert.alert(\r\n      \"You cannot report without an account!\",\r\n      \"Tap Login to continue. Tap Cancel if you want to cancel reporting.\" ,\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\",\r\n        },\r\n        {\r\n          text: \"Login\",\r\n          onPress: () => {props.navigation.navigate(\"Login\")},\r\n        },\r\n      ],\r\n      { cancelable: false }\r\n    );\r\n  };\r\n\r\n  const isUserLogged = async () => {\r\n    let token = await AsyncStorage.getItem(\"token\");\r\n    if(token == null){\r\n      alertUserLogin();\r\n    }\r\n    else{\r\n      reportUserReport();\r\n    }\r\n  }\r\n\r\n  const reportUserReport = async () => {\r\n    setShowLoading(true);\r\n    let token = await AsyncStorage.getItem(\"token\");\r\n    let formdata = new FormData();\r\n    formdata.append(\"latitude\", dispLat);\r\n    formdata.append(\"longitude\", dispLong);\r\n    formdata.append(\"rainfall_rate\", rainIntensityVal);\r\n    formdata.append(\"flood_depth\", floodLevelVal);\r\n    if (image !== null) {\r\n      let match = /\\.(\\w+)$/.exec(filename);\r\n      let type1 = match ? `image/${match[1]}` : `image`;\r\n      let fileType = image.substring(image.lastIndexOf(\".\") + 1);\r\n      console.log(\"Filename: \" + filename);\r\n      console.log(\"Filetype: \" + fileType);\r\n      formdata.append(\"image\", {\r\n        uri: image,\r\n        name: filename,\r\n        type: `image/${fileType}`,\r\n      });\r\n    }\r\n    console.log(\"Formdata: \" + formdata);\r\n    \r\n    fetch(\"https://rainflow.live/api/report/submit\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"multipart/form-data\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: formdata,\r\n    })\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error(response.status);\r\n          //console.log(\"Error: \" + response)\r\n        }\r\n        \r\n        //alert(\"Report submitted! Thank you\");\r\n        console.log(response.json().then((data) => console.log(data)));\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"ERROR: \" + error);\r\n      });\r\n      setTimeout(function(){\r\n        setShowLoading(false);\r\n        setImage(null);\r\n        alert(\"Report submitted! Thank you\");\r\n      }, 2000);\r\n    \r\n    console.log(\"Fetch Done\");\r\n    \r\n    \r\n    //setRainIntensityVal(3);\r\n    //setFloodLevelVal(3);\r\n  };\r\n\r\n  const checkIfNoReport = () => {\r\n    if (rainIntensityVal == 3 && floodLevelVal == 3) {\r\n      alert(\"Missing rain intensity and flood level data to be reported\");\r\n    } else if (rainIntensityVal == 3) {\r\n      alert(\"Missing rain intensity data to be reported\");\r\n    } else if (floodLevelVal == 3) {\r\n      alert(\"Missing flood level data to be reported\");\r\n    } else {\r\n      alertUserReport();\r\n    }\r\n  };\r\n\r\n  const [image, setImage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (Platform.OS !== \"web\") {\r\n        const { status } = await ImagePicker.requestCameraPermissionsAsync();\r\n        if (status !== \"granted\") {\r\n          alert(\"Sorry, we need camera roll permissions to make this work!\");\r\n        }\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const pickImage = async () => {\r\n    console.log(\"At Pick Image\");\r\n    let result = await ImagePicker.launchCameraAsync({\r\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\r\n      allowsEditing: false,\r\n      // maxWidth: 500,\r\n      // maxHeight: 500,\r\n      // aspect: [1, 1],\r\n      quality: 0.1,\r\n    });\r\n\r\n    // let result = await ImagePicker.launchImageLibraryAsync({\r\n    //   mediaTypes: ImagePicker.MediaTypeOptions.All,\r\n    //   // allowsEditing: true,\r\n    //   // aspect: [4, 3],\r\n    //   quality: 1,\r\n    // });\r\n\r\n    console.log(result);\r\n\r\n    if (!result.cancelled) {\r\n      setImage(result.uri);\r\n      setFileName(result.uri.split(\"/\").pop());\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.backgroundContainer}>\r\n      <View style={styles.contentContainer}>\r\n        <Text\r\n          style={{\r\n            textAlign: \"left\",\r\n            color: \"#fff\",\r\n            fontWeight: \"bold\",\r\n            paddingBottom: 0,\r\n            fontSize: 40,\r\n          }}\r\n        >\r\n          REPORTING\r\n        </Text>\r\n\r\n        <Text\r\n          style={{\r\n            textAlign: \"center\",\r\n            color: \"#fff\",\r\n            fontWeight: \"bold\",\r\n            paddingBottom: 10,\r\n          }}\r\n        >\r\n          ({dispLat}, {dispLong}){\"\\n\"}\r\n          {/* Accuracy: {accR} meters. {\"\\n\"} */}\r\n          Image to upload:\r\n        </Text>\r\n        <Image\r\n          source={{\r\n            uri: image,\r\n          }}\r\n          style={{ width: 100, height: 100, paddingBottom: 0 }}\r\n        />\r\n\r\n        {/*Rain Intensity START*/}\r\n        {showLoading ? (\r\n            <View style = {styles.loadingContainer}>\r\n            <ColorDotsLoader size = {30} color1 = {\"#4FC69A\"} color2 = {\"#1EA78C\"} color3 = {\"#0E956A\"} /> \r\n            <Text style = {{fontWeight: \"bold\", color : \"#FFFF\"}}>Loading</Text>       \r\n            </View>\r\n          ) : null}\r\n\r\n        <Text\r\n          style={{\r\n            textAlign: \"left\",\r\n            color: \"#fff\",\r\n            fontWeight: \"bold\",\r\n            fontSize: 30,\r\n          }}\r\n        >\r\n          RAIN INTENSITY\r\n        </Text>\r\n        <View style={styles.overView}>\r\n          <TouchableOpacity\r\n            style={styles.choiceContainer}\r\n            onPress={() => changeOne()}\r\n          >\r\n            <Text style={{ color: \"green\", fontWeight: \"bold\" }}>No Rain</Text>\r\n          </TouchableOpacity>\r\n\r\n          <View style={styles.pads}></View>\r\n\r\n          <TouchableOpacity\r\n            style={styles.choice2Container}\r\n            onPress={() => LRainAlert()}\r\n          >\r\n            <Text style={{ color: \"yellowgreen\", fontWeight: \"bold\" }}>\r\n              Light Rain\r\n            </Text>\r\n          </TouchableOpacity>\r\n\r\n          <View style={styles.pads}></View>\r\n\r\n          <TouchableOpacity\r\n            style={styles.choice3Container}\r\n            onPress={() => MRainAlert()}\r\n          >\r\n            <Text style={{ color: \"yellow\", fontWeight: \"bold\" }}>\r\n              Medium Rain\r\n            </Text>\r\n          </TouchableOpacity>\r\n\r\n          <View style={styles.pads}></View>\r\n\r\n          <TouchableOpacity\r\n            style={styles.choice4Container}\r\n            onPress={() => HRainAlert()}\r\n          >\r\n            <Text style={{ color: \"orange\", fontWeight: \"bold\" }}>\r\n              Heavy Rain\r\n            </Text>\r\n          </TouchableOpacity>\r\n\r\n          <View style={styles.pads}></View>\r\n\r\n          <TouchableOpacity\r\n            style={styles.choice5Container}\r\n            onPress={() => EHRainAlert()}\r\n          >\r\n            <Text style={{ color: \"red\", fontWeight: \"bold\" }}>\r\n              Extremely Heavy Rain\r\n            </Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        <Text\r\n          style={{\r\n            textAlign: \"left\",\r\n            color: \"#fff\",\r\n            fontWeight: \"bold\",\r\n            fontSize: 30,\r\n          }}\r\n        >\r\n          FLOOD LEVEL\r\n        </Text>\r\n\r\n        <View style={styles.overView}>\r\n          <TouchableOpacity\r\n            style={styles.choiceContainer}\r\n            onPress={() => changeOneF()}\r\n          >\r\n            <Text style={{ color: \"green\", fontWeight: \"bold\" }}>No Flood</Text>\r\n          </TouchableOpacity>\r\n\r\n          <View style={styles.pads}></View>\r\n\r\n          <TouchableOpacity\r\n            style={styles.choice2Container}\r\n            onPress={() => ADeepAlert()}\r\n          >\r\n            <Text style={{ color: \"yellowgreen\", fontWeight: \"bold\" }}>\r\n              Ankle Deep\r\n            </Text>\r\n          </TouchableOpacity>\r\n\r\n          <View style={styles.pads}></View>\r\n\r\n          <TouchableOpacity\r\n            style={styles.choice3Container}\r\n            onPress={() => KDeepAlert()}\r\n          >\r\n            <Text style={{ color: \"yellow\", fontWeight: \"bold\" }}>\r\n              Knee Deep\r\n            </Text>\r\n          </TouchableOpacity>\r\n\r\n          <View style={styles.pads}></View>\r\n\r\n          <TouchableOpacity\r\n            style={styles.choice4Container}\r\n            onPress={() => WDeepAlert()}\r\n          >\r\n            <Text style={{ color: \"orange\", fontWeight: \"bold\" }}>\r\n              Waist Deep\r\n            </Text>\r\n          </TouchableOpacity>\r\n\r\n          <View style={styles.pads}></View>\r\n\r\n          <TouchableOpacity\r\n            style={styles.choice5Container}\r\n            onPress={() => AWDeepAlert()}\r\n          >\r\n            <Text style={{ color: \"red\", fontWeight: \"bold\" }}>\r\n              Above Waist\r\n            </Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        <View style={styles.buttonContainer}>\r\n          <TouchableOpacity style={styles.button} onPress={() => pickImage()}>\r\n            <Text\r\n              style={{ textAlign: \"center\", color: \"#fff\", fontWeight: \"bold\" }}\r\n            >\r\n              Take a photo\r\n            </Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n        <View style={styles.buttonContainer}>\r\n          <TouchableOpacity style={styles.button} onPress={() => updateMyLoc()}>\r\n            <Text\r\n              style={{ textAlign: \"center\", color: \"#fff\", fontWeight: \"bold\" }}\r\n            >\r\n              Update My Location\r\n            </Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n        <View style={styles.buttonCancelContainer}>\r\n          <TouchableOpacity\r\n            style={styles.buttonCancel}\r\n            onPress={() => checkIfNoReport()}\r\n          >\r\n            <Text\r\n              style={{ textAlign: \"center\", color: \"#fff\", fontWeight: \"bold\" }}\r\n            >\r\n              R E P O R T\r\n            </Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  backgroundContainer: {\r\n    flex: 1,\r\n    width: \"100%\",\r\n    backgroundColor: \"#434343\",\r\n    justifyContent: \"center\",\r\n    paddingTop: Platform.OS === \"android\" ? 25 : 0,\r\n  },\r\n\r\n  loadingContainer: {\r\n    flex:1, \r\n    height: \"100%\", \r\n    width: \"100%\",\r\n    flexDirection: \"column\", \r\n    alignItems: \"center\", \r\n    //justifyContent: \"center\", \r\n    position: \"absolute\",\r\n    paddingTop: 170,\r\n   },\r\n\r\n  contentContainer: {\r\n    flex: 1,\r\n    width: \"100%\",\r\n\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"#434343\",\r\n    paddingHorizontal: 30,\r\n    paddingTop: Platform.OS === \"android\" ? 25 : 0,\r\n  },\r\n\r\n  reportcontentContainer: {\r\n    flex: 1,\r\n    width: \"100%\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"#434343\",\r\n    paddingHorizontal: 30,\r\n    paddingTop: Platform.OS === \"android\" ? 25 : 0,\r\n  },\r\n\r\n  pads: {\r\n    paddingTop: 2,\r\n    paddingBottom: 2,\r\n    paddingLeft: 3,\r\n    paddingRight: 3,\r\n  },\r\n  choiceContainer: {\r\n    width: \"21%\",\r\n    height: 50,\r\n    textAlign: \"center\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: 10,\r\n    backgroundColor: \"#434343\",\r\n    borderWidth: 2,\r\n    borderColor: \"green\",\r\n  },\r\n\r\n  choice2Container: {\r\n    width: \"21%\",\r\n    height: 50,\r\n    textAlign: \"center\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: 10,\r\n    backgroundColor: \"#434343\",\r\n    borderWidth: 2,\r\n    borderColor: \"yellowgreen\",\r\n    paddingLeft: 3,\r\n    paddingRight: 3,\r\n  },\r\n\r\n  choice3Container: {\r\n    width: \"21%\",\r\n    height: 50,\r\n    textAlign: \"center\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: 10,\r\n    backgroundColor: \"#434343\",\r\n    borderWidth: 2,\r\n    borderColor: \"yellow\",\r\n    paddingLeft: 3,\r\n  },\r\n\r\n  choice4Container: {\r\n    width: \"21%\",\r\n    height: 50,\r\n    textAlign: \"center\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: 10,\r\n    backgroundColor: \"#434343\",\r\n    borderWidth: 2,\r\n    borderColor: \"orange\",\r\n    paddingLeft: 3,\r\n  },\r\n\r\n  choice5Container: {\r\n    width: \"21%\",\r\n    height: 50,\r\n    textAlign: \"center\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: 10,\r\n    backgroundColor: \"#434343\",\r\n    borderWidth: 2,\r\n    borderColor: \"red\",\r\n    paddingLeft: 3,\r\n  },\r\n\r\n  rbuttonContainer: {\r\n    flex: 1,\r\n    width: \"100%\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"flex-start\",\r\n  },\r\n\r\n  logoContainer: {\r\n    flex: 1.5,\r\n    width: \"100%\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"#434343\",\r\n    paddingBottom: 0,\r\n  },\r\n\r\n  overView: {\r\n    width: \"100%\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    flexDirection: \"row\",\r\n    paddingTop: 10,\r\n    paddingBottom: 10,\r\n  },\r\n\r\n  button: {\r\n    width: \"100%\",\r\n    height: 35,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: 30,\r\n    backgroundColor: \"#1EA78C\",\r\n  },\r\n\r\n  buttonCancel: {\r\n    width: \"100%\",\r\n    height: 35,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: 30,\r\n    backgroundColor: \"#434343\",\r\n    borderWidth: 2,\r\n    borderColor: \"#1EA78C\",\r\n  },\r\n\r\n  buttonContainer: {\r\n    width: \"100%\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"flex-end\",\r\n    backgroundColor: \"#434343\",\r\n    paddingHorizontal: 5,\r\n    paddingTop: 0,\r\n    paddingBottom: 20,\r\n  },\r\n\r\n  buttonCancelContainer: {\r\n    width: \"100%\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"flex-end\",\r\n    backgroundColor: \"#434343\",\r\n    paddingHorizontal: 5,\r\n    paddingTop: 0,\r\n    paddingBottom: 20,\r\n  },\r\n});\r\n\r\nexport default Reporting;\r\n"]},"metadata":{},"sourceType":"module"}